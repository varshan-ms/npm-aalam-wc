var p=Object.freeze,A=Object.defineProperty;var u=(t,e)=>p(A(t,"raw",{value:p(e||t.slice())}));import{n as c,t as E,s as g,x as f}from"./index.js";import{r as L}from"./assets/state-amsnmWNs.js";import{p as m,g as w}from"./assets/utils-B-VCVQlU.js";import{o as C}from"./assets/style-map-BSxMVyzs.js";function F(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}var S=Object.defineProperty,$=Object.getOwnPropertyDescriptor,h=(t,e,i,n)=>{for(var s=n>1?void 0:n?$(e,i):e,o=t.length-1,a;o>=0;o--)(a=t[o])&&(s=(n?a(e,i,s):a(s))||s);return n&&s&&S(e,i,s),s};const _=(t,e)=>({open:{start:"translate(".concat(t,", ").concat(e,")"),end:"translate(0px, 0px)"},close:{start:"translate(0px, 0px)",end:"translate(".concat(t,", ").concat(e)}}),y={b2t:_("0px","100%"),t2b:_("0px","-100%"),r2l:_("100%","0px"),l2r:_("-100%","0px"),fade:{open:{start:0,end:1},close:{start:1,end:0}}};var v,b;let r=class extends g{constructor(){super(),this.DEFAULT_VALUES={animationDur:100,activecls:"tab-active",fashion:"xs:row",colsize:"title:30%;body:70%"},this.animation="",this.animationDur=this.DEFAULT_VALUES.animationDur,this.activecls=this.DEFAULT_VALUES.activecls,this.fashion=this.DEFAULT_VALUES.fashion,this.colsize=this.DEFAULT_VALUES.colsize,this._internal_fashion="row",this._resizeListener=this._resizeEvent.bind(this),this._node_insert_listener=this._nodeInserted.bind(this),this._animation_styles={},this._column_size={title:"30%",body:"70%"},this._fashion_style=[{ll:0,ul:null,val:"row",cond:"(min-width:0px)"}]}attributeChangedCallback(t,e,i){var n,s;if(super.attributeChangedCallback(t,e,i),t=="animation")y[i]?this._animation_styles={open:i,close:i}:(this._animation_styles=m(i,o=>o in y),this._animation_styles={open:(n=this._animation_styles)==null?void 0:n.show,close:(s=this._animation_styles)==null?void 0:s.hide});else if(t=="fashion"){this._fashion_style=w(i,this.DEFAULT_VALUES.fashion,a=>a=="row"||a=="column"||a=="accordion");let o=this._checkFashion();o!=this._internal_fashion&&this._changeFashionStyle(o)}else t=="colsize"&&(this._column_size=m(i,o=>{try{return CSSStyleValue.parse("grid-template-columns",o),!0}catch(a){}return!1}))}render(){if(this._internal_fashion=="accordion")return f(v||(v=u(["\n<div @click=","\n     @transitionend=",">\n    <slot name='acc'></slot>\n</div>"])),this._titleClicked,this._transitionEndEvent);{let t={display:"grid","grid-template-columns":"\n                    ".concat(this._column_size.title," ").concat(this._column_size.body)};return f(b||(b=u(["\n<div style=",'>\n    <div style="display:flex;flex-direction:','">\n        <slot name="tab-title" @click=',"></slot>\n    </div>\n    <div @transitionend=",'>\n        <slot name="tab-body"></slot>\n    </div>\n</div>'])),this._internal_fashion=="column"?C(t):"",this._internal_fashion,this._titleClicked,this._transitionEndEvent)}}connectedCallback(){super.connectedCallback(),this.renderRoot.addEventListener("slotchange",t=>{this._slotChangedEvent(t)}),window.addEventListener("resize",this._resizeListener),this._observer=new MutationObserver(this._node_insert_listener),this._observer.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){window.removeEventListener("resize",this._resizeListener),this._observer&&this._observer.disconnect()}firstUpdated(){this._openActive(),this._cur_ix==null&&this.show(0)}_nodeInserted(t){let e=0;for(let i of t)e+=i.addedNodes.length;this._internal_fashion=="accordion"&&e>0&&this._showAccordion()}_slotChangedEvent(t){var n;if(!t.target)return;let e=t.target.assignedElements(),i=(n=t.target)==null?void 0:n.name;if(i=="tab-body"||i=="tab-title")for(let s of e)s!=e[this._cur_ix]&&(i=="tab-body"&&(s.style.display="none"),s.classList.remove(this.activecls));else if(i=="acc")for(let s of e)s!=e[this._cur_ix]&&(s.children[1].style.display="none",s.children[0].classList.remove(this.activecls),s.children[1].classList.remove(this.activecls))}_openActive(){let t=this.querySelectorAll("[slot=tab-title]");for(let e=0;e<t.length;e++)if(t[e].classList.contains(this.activecls)){this.show(e);break}}_checkFashion(){let t=window.innerWidth;for(let e of this._fashion_style)if((e.ll||0)<=t&&(!e.ul||e.ul>=t))return e.val;return""}_changeFashionStyle(t){this._internal_fashion=t,t=="accordion"?this._showAccordion():this._showRC()}_resizeEvent(){let t=this._checkFashion();this._internal_fashion!=t&&(this._changeFashionStyle(t),this._openActive())}_showAccordion(){let t=this.querySelectorAll(":scope > [slot=tab-title]"),e=this.querySelectorAll(":scope > [slot=tab-body]");for(let i=0;i<Math.min(t.length,e.length);i++){let n=document.createElement("div");n.slot="acc",n.appendChild(t[i]),n.appendChild(e[i]),this.appendChild(n)}}_showRC(){let t=this.querySelectorAll("[slot=acc]");for(let i of t)this.appendChild(i.children[1]),this.appendChild(i.children[0]),i.remove();let e=this.querySelectorAll("style");for(let i of e)i.remove()}_titleClicked(t){let e=this.querySelectorAll("[slot=tab-title]"),i=t.target;for(;i;)if(i.slot=="tab-title"){let n=Array.prototype.indexOf.call(e,i);this.show(n);break}else if(i.parentElement)i=i.parentElement;else break}_transitionEndEvent(t){let e=t.target;e.hasAttribute("data-anim")&&(e.style.display="none"),e.style.transition="",e.style.transform="",e.style.opacity="",e.style.transitionProperty="",e.style.transitionDuration="",e.style.transitionTimingFunction="",e.style.transition=""}_setTransition(t,e){if(this._animation_styles[t])return y[this._animation_styles[t]][t][e]}_show(t,e){var o,a;let i=this.querySelectorAll("[slot=tab-title]"),n=this.querySelectorAll("[slot=tab-body]"),s=n[t];if(e!=null){let l=n[e];if(this._animation_styles.close){let d="".concat(this._animation_styles.close=="fade"?"opacity":"transform");l.setAttribute("data-anim",""),l.style.transitionProperty=d,l.style.setProperty(d,"".concat(this._setTransition("close","start"))),l.style.transitionDuration="".concat(this.animationDur,"ms"),l.style.transitionTimingFunction="ease",requestAnimationFrame(()=>{l.style.setProperty(d,"".concat(this._setTransition("close","end")))})}else l.style.display="none";l==null||l.classList.remove(this.activecls),(o=i[e])==null||o.classList.remove(this.activecls),this.dispatchEvent(new CustomEvent("hide",{detail:{ix:t}}))}if((a=i[t])==null||a.classList.add(this.activecls),s==null||s.classList.add(this.activecls),s&&(s.style.display="block"),this._animation_styles.open){let l="".concat(this._animation_styles.open=="fade"?"opacity":"transform");s.style.transitionProperty=l,s.style.setProperty(l,"".concat(this._setTransition("open","start"))),s.style.transitionDuration="".concat(this.animationDur,"ms"),s.style.transitionTimingFunction="ease",requestAnimationFrame(()=>{s.style.setProperty(l,"".concat(this._setTransition("open","end")))})}this._animation_styles.close&&s.removeAttribute("data-anim"),this.dispatchEvent(new CustomEvent("show",{detail:{ix:t}}))}show(t){this._cur_ix==t&&this._cur_ix!=null||(this._show(t,this._cur_ix),this._cur_ix!=t&&(this._cur_ix=t),this.dispatchEvent(new CustomEvent("change",{detail:{ix:t}})))}};h([c({type:String,attribute:!0})],r.prototype,"animation",2);h([c({type:Number,attribute:!0})],r.prototype,"animationDur",2);h([c({type:String,attribute:!0})],r.prototype,"activecls",2);h([c({type:String,attribute:!0})],r.prototype,"fashion",2);h([c({type:String,attribute:!0})],r.prototype,"colsize",2);h([L()],r.prototype,"_internal_fashion",2);r=h([E("aalam-tabs")],r);export{F as __vite_legacy_guard};

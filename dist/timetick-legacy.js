System.register(["./index-legacy.js"],(function(e,t){"use strict";var i,s,l,a,r;return{setters:[e=>{i=e.n,s=e.t,l=e.s,a=e.i,r=e.x}],execute:function(){var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=(i,s,l,a)=>{for(var r,n=a>1?void 0:a?t(s,l):s,h=i.length-1;h>=0;h--)(r=i[h])&&(n=(a?r(s,l,n):r(n))||n);return a&&n&&e(s,l,n),n};let h=class extends l{constructor(){super(),this.elapseat="",this._my_interval=null}static get styles(){return a`
:host {
    display:inline-block;
}`}render(){return r`
<div>
    <slot name='tt-tick'> </slot>
    <slot name='tt-elapsed'> </slot>
</div>`}connectedCallback(){super.connectedCallback(),this.elementHolder(),this.startTimer()}disconnectedCallback(){super.disconnectedCallback(),this.clearTimer()}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),this.elapseat&&(this._elapsed_date=new Date(i),t&&this.startTimer())}clearTimer(){this._my_interval&&(clearInterval(this._my_interval),this._my_interval=null)}elementHolder(){this._year_el=this.querySelector("[data-timetick=year]"),this._month_el=this.querySelector("[data-timetick=month]"),this._week_el=this.querySelector("[data-timetick=week]"),this._day_el=this.querySelector("[data-timetick=day]"),this._hour_el=this.querySelector("[data-timetick=hour]"),this._min_el=this.querySelector("[data-timetick=min]"),this._sec_el=this.querySelector("[data-timetick=sec]")}startTimer(){this.clearTimer(),this.hideMsg(),this.timeCount(),this._my_interval=setInterval((()=>this.timeCount()),1e3)}timeCount(){let e=new Date;if(this._elapsed_date.valueOf()-e.valueOf()<=0)return this.clearTimer(),void this.elapsed();let t=e=>e<10?`0${e}`:e;const i=["Seconds","Minutes","Hours","Date","Month","Year"],s=[60,60,24,new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),12,-1];let l=Array(6);for(let a=0;a<i.length;a++){let t=e=>e[`get${i[a]}`](),r=(l[a]||0)+t(this._elapsed_date)-t(e);r<0&&(r+=s[a],l[a+1]=-1),l[a]=r}if(this._year_el?this._year_el.innerText=`${t(l[5])}`:(l[4]=l[4]+12*l[5],l[5]=0),this._month_el?this._month_el.innerText=`${t(l[4])}`:(this._year_el&&l[5]>0&&(e=new Date(e.getFullYear()+l[5],e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())),l[3]=Math.floor((this._elapsed_date.getTime()-e.getTime())/864e5)),this._week_el){let e=Math.floor(l[3]/7);l[3]=l[3]%7,this._week_el.innerText=`${t(e)}`}this._day_el?this._day_el.innerText=`${t(l[3])}`:l[2]=l[2]+24*l[3],this._hour_el?this._hour_el.innerText=`${t(l[2])}`:l[1]=l[1]+60*l[2],this._min_el?this._min_el.innerText=`${t(l[1])}`:l[0]=l[0]+60*l[1],this._sec_el&&(this._sec_el.innerText=`${t(l[0])}`),this.dispatchEvent(new CustomEvent("tick",{detail:{year:this._year_el,month:this._month_el,week:this._week_el,day:this._day_el,hour:this._hour_el,min:this._min_el,sec:this._sec_el}}))}elapsed(){this.querySelectorAll("[data-timetick]").forEach((e=>{e.innerText="00"})),this.dispatchEvent(new CustomEvent("elapsed"));const e=this.querySelector("[data-msg=msg]");e&&(e.style.display="block")}hideMsg(){const e=this.querySelector("[data-msg=msg]");e&&(e.style.display="none")}};n([i({type:String,attribute:!0})],h.prototype,"elapseat",2),h=n([s("aalam-timetick")],h)}}}));

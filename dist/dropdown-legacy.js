System.register(["./index-legacy.js","./assets/query-legacy-CILVpPJY.js","./assets/query-assigned-elements-legacy-1pHNcqST.js","./assets/floating-ui.dom-legacy-BJ3fVfQ2.js","./assets/utils-legacy-1NLZUWf7.js","./assets/base-legacy-ClOgP1kU.js"],(function(t,e){"use strict";var i,o,s,n,r,a,l,h,d,p,c,m,_;return{setters:[t=>{i=t.n,o=t.t,s=t.s,n=t.x,r=t.i},t=>{a=t.e},t=>{l=t.o},t=>{h=t.o,d=t.s,p=t.b,c=t.c,m=t.f},t=>{_=t.p},null],execute:function(){var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,y=(i,o,s,n)=>{for(var r,a=n>1?void 0:n?e(o,s):o,l=i.length-1;l>=0;l--)(r=i[l])&&(a=(n?r(o,s,a):r(a))||a);return n&&a&&t(o,s,a),a};let g=class extends s{constructor(){super(...arguments),this.animation="",this.animationDur=100,this.closesel="dd-close",this.boundsel="",this.mode="click",this.position="bottom-left",this.noflip=!1,this.offset=0,this._isOpen=!1,this._cleanup=null,this._animation_styles={show:"",hide:""},this._outside_click_event_listener=this._handleOutsideClick.bind(this),this._hide_event_listener=this.hide.bind(this),this._toggleDropdown=t=>{const e=t.target.closest("aalam-dropdown");e&&e!==this||(this._isOpen?this.hide():this.show())}}attributeChangedCallback(t,e,i){if(super.attributeChangedCallback(t,e,i),"position"==t)o=this.position,["top","left","bottom","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(o)||(this.position="bottom-left");else if("animation"==t){let t=["reveal-x","reveal-y","fade-in"],e=["conceal-x","conceal-y","fade-out"];t.includes(this.animation)||e.includes(this.animation)?this.animation.startsWith("fade")?this._animation_styles={show:"fade-in",hide:"fade-out"}:this.animation.endsWith("x")?this._animation_styles={show:"reveal-x",hide:"conceal-x"}:this._animation_styles={show:"reveal-y",hide:"conceal-y"}:(this._animation_styles=_(this.animation),t.includes(this._animation_styles.show)||(this._animation_styles.show=""),e.includes(this._animation_styles.hide)||(this._animation_styles.hide="")),this._animation_styles.show&&this.style.setProperty("--anim-open-name",this._animation_styles.show),this._animation_styles.hide&&this.style.setProperty("--anim-close-name",this._animation_styles.hide)}else"mode"==t&&"click"!=this.mode&&"hover"!=this.mode&&(this.mode="click");var o}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this._outside_click_event_listener),this.renderRoot.addEventListener("slotchange",(t=>{this._slotChangedEvent(t)}));let t=this.parentElement,e=1;for(;t;){if("AALAM-DROPDOWN"==t.tagName){"click"==this.mode&&(t.addEventListener("hide",this._hide_event_listener),this._parent_dd_element=t),e=parseInt(t.style.getPropertyValue("--z-index"))+1;break}t=t.parentElement}this.style.setProperty("--z-index",`${e}`),this.style.setProperty("--anim-dur",`${this.animationDur}ms`),this.style.setProperty("--pseudo-display","none")}disconnectedCallback(){super.disconnectedCallback(),"hover"===this.mode?(this.removeEventListener("mouseenter",this._handleMouseEnter),this.removeEventListener("mouseleave",this._handleMouseLeave)):this._parent_dd_element&&this._parent_dd_element.removeEventListener("hide",this._hide_event_listener),document.removeEventListener("click",this._outside_click_event_listener),this._cleanup&&(this._cleanup(),this._cleanup=null)}render(){return n`
<slot name="dd-toggler"
    @click=${"click"===this.mode?this._toggleDropdown:null}>
</slot>
<div class="dd-container"
    @click="${this._bodyClickedEvent}"
    @animationend=${this._animationEnd}>
    <slot name="dd-body"></slot>
</div>`}static get styles(){return r`
:host {position: relative;display: inline-block;}
::slotted([slot="dd-toggler"]) {cursor: pointer;}
.dd-container {display:none;border: 1px solid #ddd;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    position: absolute;z-index:var(--z-index);width: max-content;}
:host::before {
    content: " ";
    display: var(--pseudo-display, none);
    position:absolute;
    background: rgba(0, 0, 0, 0.01);
    top:calc(var(--pseudo-top) * 1px);
    height: calc(var(--pseudo-height) * 1px);
    left: calc(var(--pseudo-left) * 1px);
    width: calc(var(--pseudo-width) * 1px);
    clip-path: var(--pseudo-path);
}
.anim-open {animation:var(--anim-open-name) var(--anim-dur);
            display:block !important;transform-origin:var(--anim-open-side)}
.anim-close {animation:var(--anim-close-name) var(--anim-dur);
            display:block !important;transform-origin:var(--anim-close-side)}

    @keyframes fade-in {from {opacity:0} to {opacity:1}}
    @keyframes fade-out {from {opacity:1} to {opacity:0}}

    @keyframes reveal-x {from {transform:scaleX(0)} to {transform:scale(1)}}
    @keyframes conceal-x {from {transform:scaleX(1)} to {transform:scaleX(0)}}

    @keyframes reveal-y {from {transform:scaleY(0)} to {transform:scaleY(1)}}
    @keyframes conceal-y {from {transform:scaleY(1)} to {transform:scaleY(0)}}`}show(){this._isOpen||(this._isOpen=!0,this._dd_container&&(this._animation_styles.show?this._dd_container.classList.add("anim-open"):this._dd_container.style.display="block"),this.positionDropdown(),"hover"==this.mode&&this.style.setProperty("--pseudo-display","block"),this.dispatchEvent(new Event("show")))}hide(){this.style.setProperty("--pseudo-display","none"),this._isOpen&&(this._isOpen=!1,this._dd_container&&(this._animation_styles.hide&&this._dd_container.classList.add("anim-close"),this._animation_styles.show||(this._dd_container.style.display="none")),this._dd_container.classList.remove("anim-open"),this.dispatchEvent(new Event("hide")))}_slotChangedEvent(t){let e=t.target;if(!e)return;let i=t.target?.name;"dd-toggler"==i&&"hover"===this.mode&&(e.addEventListener("mouseenter",this._handleMouseEnter.bind(this)),this.addEventListener("mouseleave",this._handleMouseLeave.bind(this)))}_animationEnd(){this._dd_container&&this._dd_container.classList.remove("anim-close")}_bodyClickedEvent(t){this.closesel&&t.target.matches(this.closesel)&&this.hide()}_handleMouseEnter(){this.show()}_checkQuadrants(t,e){let i=[],o=(e,i)=>e<t.left?i<t.top?"q1":"q3":i<t.top?"q2":"q4";return["q3","q2"].indexOf(o(e.left,e.top))>=0&&i.push("tl"),["q1","q4"].indexOf(o(e.right,e.top))>=0&&i.push("tr"),["q1","q4"].indexOf(o(e.left,e.bottom))>=0&&i.push("bl"),["q2","q3"].indexOf(o(e.right,e.bottom))>=0&&i.push("br"),i}_handleMouseLeave(){this.hide()}_handleOutsideClick(t){let e=t.target;if(this._isOpen){for(;e&&e!=this;){let t=e.assignedSlot?e.assignedSlot.parentElement?e.assignedSlot.parentElement:e.parentElement:e.parentElement||e.getRootNode()?.host;e=t}e||this.hide()}}_safePolygonFunction(t,e,i){if(!this._dd_container||!this._dd_toggler)return;const o=this._dd_toggler[0].getBoundingClientRect(),s=this._dd_container.getBoundingClientRect(),n=getComputedStyle(this._dd_container);let r=parseInt(n.width),a=parseInt(n.height);if(!t)return;let l,h,d,p,c={top:"top"==t.origin_y?s.top:s.bottom-a,left:"left"==t.origin_x?s.left:s.right-r,right:"left"==t.origin_x?s.left+r:s.right,bottom:"top"==t.origin_y?s.top+a:s.bottom},m=this._checkQuadrants(o,c);if(0==m.length)return;let _=c.left-e,y=c.top-i;m[0][1]==m[1][1]?(l="l"==m[0][1]?Math.abs(o.left-c.left):Math.abs(o.right-c.right),p="l"==m[0][1]?o.left-_:e+r):(l=Math.max(o.right,c.right)-Math.min(o.left,c.left),p=Math.min(o.left-_,c.left-_)),m[0][0]==m[1][0]?(d="t"==m[0][0]?o.top-y:c.bottom-y,h="t"==m[0][0]?Math.abs(o.top-c.top):Math.abs(o.bottom-c.bottom)):(h=Math.max(o.bottom,c.bottom)-Math.min(o.top,c.top),d=Math.min(o.top-y,c.top-y)),this.style.setProperty("--pseudo-top",`${d}`),this.style.setProperty("--pseudo-left",`${p}`),this.style.setProperty("--pseudo-width",`${l}`),this.style.setProperty("--pseudo-height",`${h}`);const g=(()=>{let t=m[0],e=m[1],i=[[],[]],s=[[],[]];i[0].push("l"==t[1]?-1*p:-1*p+o.width),i[0].push("t"==t[0]?-1*d:-1*d+o.height),i[1].push("l"==t[1]?i[0][0]+(c.left-o.left):i[0][0]+(c.right-o.right)),i[1].push("t"==t[0]?i[0][1]+(c.top-o.top):i[0][1]+(c.bottom-o.bottom)),t[1]==e[1]?s[0].push(i[1][0]):s[0].push("l"==e[1]?i[1][0]-r:i[1][0]+r),t[0]==e[0]?s[0].push(i[1][1]):s[0].push("t"==e[1]?i[1][1]-a:i[1][1]+a),s[1].push("l"==e[1]?-1*p:-1*p+o.width),s[1].push("t"==e[0]?-1*d:-1*d+o.height);let n=t=>t.map((t=>`${t[0]}px ${t[1]}px`));return n(i).concat(n(s)).join(",")})();this.style.setProperty("--pseudo-path",`polygon(${g})`)}async positionDropdown(){const t={"top-left":"top-start","top-right":"top-end","bottom-left":"bottom-start","bottom-right":"bottom-end","left-top":"left-start","left-bottom":"left-end","right-top":"right-start","right-bottom":"right-end",top:"top",bottom:"bottom",left:"left",right:"right"},e=this.boundsel&&document.querySelector(`${this.boundsel}`)||this.querySelector('[slot="dd-toggler"]');if(!e)return;const i=[h({mainAxis:this.offset}),d()];this.noflip||i.push(m({fallbackPlacements:["top","bottom","left","right"]})),this._dd_container&&(this._cleanup=p(e,this._dd_container,(()=>{c(e,this._dd_container,{placement:t[this.position]||this.position,middleware:i}).then((t=>{let e=this._setTransOrigin(t.placement),{x:i,y:o}=t;Object.assign(this._dd_container.style,{left:`${i}px`,top:`${o}px`}),"hover"==this.mode&&this._safePolygonFunction(e,i,o)}))})))}_setTransOrigin(t){const e={"top-start":{origin_x:"left",origin_y:"bottom"},"top-end":{origin_x:"right",origin_y:"bottom"},"bottom-start":{origin_x:"left",origin_y:"top"},"bottom-end":{origin_x:"right",origin_y:"top"},"left-start":{origin_x:"right",origin_y:"top"},"left-end":{origin_x:"right",origin_y:"bottom"},"right-start":{origin_x:"left",origin_y:"top"},"right-end":{origin_x:"left",origin_y:"bottom"},top:{origin_x:"left",origin_y:"bottom"},bottom:{origin_x:"left",origin_y:"top"},left:{origin_x:"right",origin_y:"top"},right:{origin_x:"left",origin_y:"top"}}[t];let i=this._animation_styles;if(e)return i.show&&(i.show.endsWith("x")?this.style.setProperty("--anim-open-side",e.origin_x):i.show.endsWith("y")&&this.style.setProperty("--anim-open-side",e.origin_y)),i.hide&&(i.hide.endsWith("x")?this.style.setProperty("--anim-close-side",e.origin_x):i.hide.endsWith("y")&&this.style.setProperty("--anim-close-side",e.origin_y)),e}};y([i({type:String})],g.prototype,"animation",2),y([i({type:Number})],g.prototype,"animationDur",2),y([i({type:String})],g.prototype,"closesel",2),y([i({type:String})],g.prototype,"boundsel",2),y([i({type:String})],g.prototype,"mode",2),y([i({type:String})],g.prototype,"position",2),y([i({type:Boolean})],g.prototype,"noflip",2),y([i({type:Number})],g.prototype,"offset",2),y([l({slot:"dd-body"})],g.prototype,"_dd_body_slot",2),y([l({slot:"dd-toggler"})],g.prototype,"_dd_toggler",2),y([a(".dd-container")],g.prototype,"_dd_container",2),g=y([o("aalam-dropdown")],g)}}}));

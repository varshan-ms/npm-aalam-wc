var _=Object.freeze,g=Object.defineProperty;var a=(t,e)=>_(g(t,"raw",{value:_(e||t.slice())}));import{n as r,t as y,s as v,x as d,i as C}from"./index.js";import{e as c}from"./assets/query-DjSY4l8D.js";import{o as $}from"./assets/query-assigned-elements-CUArdile.js";import{n as h}from"./assets/when-BR7zwNJC.js";import"./assets/base-DIkkzJ-c.js";function w(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}var E=Object.defineProperty,k=Object.getOwnPropertyDescriptor,n=(t,e,s,l)=>{for(var o=l>1?void 0:l?k(e,s):e,p=t.length-1,u;p>=0;p--)(u=t[p])&&(o=(l?u(e,s,o):u(o))||o);return l&&o&&E(e,s,o),o},f,m,b,x;let i=class extends v{constructor(){super(),this.label="Label",this.mode="filled",this.color="currentColor",this.disabled=!1,this.prefix="",this.suffix="",this.charcount=""}attributeChangedCallback(t,e,s){super.attributeChangedCallback(t,e,s),t=="disabled"?this._disableInput():t=="charcount"?this._charCounter():t=="mode"&&this.mode!="outline"&&this.mode!="filled"&&(this.mode="filled")}connectedCallback(){super.connectedCallback(),this.renderRoot.addEventListener("slotchange",t=>{this._slotChangedEvent(t)})}disconnectedCallback(){super.disconnectedCallback()}render(){return d(b||(b=a(['\n<div id="_container" class="mode-','"\n    @click=','\n    style="--attrcolor:','">\n    <div>\n        <slot name="leading-icon"></slot>\n    </div>\n    <div id="_input-container">\n        ','\n        <span id="_input-span" @input=','>\n            <slot name="input">\n                <input id="_input-box" type="text"\n                    @focus=',"\n                    @blur=",">\n            </slot>\n        </span>\n        ",'\n        <span id="_label">','</span>\n    </div>\n    <div>\n        <slot name="trailing-icon"></slot>\n    </div>\n</div>\n<div id="_helper-text">\n    <slot name="helper-text"></slot>\n    <span id=\'_display-counter\'></span>\n</div>'])),this.mode,this._clickEvent,this.color,h(this.prefix,()=>d(f||(f=a(['<span id="_prefix">',"</span>"])),this.prefix)),this._charCounter,this._focusEvent,this._blurEvent,h(this.suffix,()=>d(m||(m=a(['<span id="_suffix">',"</span>"])),this.suffix)),this.label)}static get styles(){return C(x||(x=a(["\n:host {position:relative;display:block;width:100%}\n#_container {\n    position:relative;display:flex;align-items:center;\n    gap:5px;padding-left:5px;padding-right:5px}\n#_input-container {\n    position:relative;padding-top:calc(0.75em + 7px);padding-bottom:3px;\n    gap:5px;padding-right:5px;\n    display:flex;align-items:center;flex:1}\n#_label {\n    position:absolute;top:50%;left:0;\n    transition:transform 0.2s ease;transform:translateY(-50%)}\n#_prefix, #_suffix {opacity:0}\n#_input-span {flex:1}\n#_helper-text {display:flex;padding-left:5px}\n#_display-counter {display:flex;margin-left:auto}\n::slotted([slot=input]), #_input-box {\n    background:transparent;outline:none;\n    border:none;width:100%;padding:0px;font-size:1em}\n.focused #_prefix, .focused #_suffix {opacity:1}\n\n.mode-filled {backdrop-filter:brightness(0.90)}\n.mode-filled:hover {backdrop-filter:brightness(0.80)}\n.mode-filled.focused {backdrop-filter:brightness(0.70)}\n.mode-filled.focused #_label {\n    transform:translateY(calc(-100% - 2px)) scale(0.75);transform-origin:left}\n.mode-filled.focused {border-bottom:solid 2px var(--attrcolor)}\n.mode-filled.focusout {border-bottom:transparent !important}\n.mode-filled.focusout {backdrop-filter:brightness(0.90)}\n\n.mode-outline.focused {\n    border:solid 2px var(--attrcolor)}\n.mode-outline.focused #_input-container {\n    padding:calc((0.75em + 10px)/2);padding-left:0px;padding-right:5px}\n.mode-outline, .mode-outline.focusout {border:solid 2px grey}\n.mode-outline.focused #_label {\n    padding:4px;background:white;\n    transform:translateY(-130%)\n        translateX(calc(var(--tx)*-1px)) scale(0.75)}"])))}firstUpdated(){this._input_slot[0]?this._input_element=this._input_slot[0]:this._input_element=this._input_box,this._input_element.value="",this.charcount&&this._charCounter(),this._setTransX(),this._disableInput()}_slotChangedEvent(t){var s;if(!t.target)return;let e=(s=t.target)==null?void 0:s.name;if(e=="input"){if(!this._input_slot[0]){this._input_element!=this._input_box&&(this._input_element=this._input_box);return}this._input_element!=this._input_slot[0]&&(this._input_element=this._input_slot[0]),this._input_element.addEventListener("focus",()=>{this._focusEvent()}),this._input_element.addEventListener("blur",()=>{this._blurEvent()})}else e=="leading-icon"&&this._setTransX()}_clickEvent(){this.disabled||this._input_element.focus()}_focusEvent(){this.disabled||(this._container.classList.add("focused"),this._container.classList.remove("focusout"))}_blurEvent(){this._input_element.value?this._container.classList.add("focusout"):this._container.classList.remove("focused")}_charCounter(){if(!this._input_element)return;if(!this.charcount){this._display_counter.innerText="",this._display_counter.style.display="none",this._input_element.removeAttribute("maxlength");return}this._display_counter.style.display="flex",this._input_element.setAttribute("maxlength",this.charcount);let t=this._input_element.value.length;this._display_counter.innerText="".concat(t,"/").concat(this.charcount)}_disableInput(){this._input_element&&(this.disabled==!0?this._input_element.setAttribute("disabled",""):this._input_element.removeAttribute("disabled"))}_setTransX(){var s;let t=(s=this.shadowRoot)==null?void 0:s.querySelector("#_input-container"),e=t==null?void 0:t.getBoundingClientRect().x;if(e){let l=this.getBoundingClientRect().x;this.style.setProperty("--tx","".concat(e-l-4))}}};n([r({type:String,attribute:!0})],i.prototype,"label",2);n([r({type:String,attribute:!0})],i.prototype,"mode",2);n([r({type:String,attribute:!0})],i.prototype,"color",2);n([r({type:Boolean,attribute:!0})],i.prototype,"disabled",2);n([r({type:String,attribute:!0})],i.prototype,"prefix",2);n([r({type:String,attribute:!0})],i.prototype,"suffix",2);n([r({type:Number,attribute:!0})],i.prototype,"charcount",2);n([c("#_container")],i.prototype,"_container",2);n([c("#_input-box")],i.prototype,"_input_box",2);n([c("#_display-counter")],i.prototype,"_display_counter",2);n([$({slot:"input"})],i.prototype,"_input_slot",2);i=n([y("aalam-md-input")],i);export{w as __vite_legacy_guard};
